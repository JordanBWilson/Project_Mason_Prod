(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"71Kf":function(l,e,t){"use strict";t.r(e);var s=t("8Y7J"),n=function(){},o=t("pMnS"),r=t("SVse"),u=t("bujt"),a=t("Fwaw"),i=t("5GAg"),c=t("omvX"),h=t("FbN9"),p=t("BzsH"),d=t("/HVE"),m=function(){function l(){this.playerResourcesTemp={chiselLvl:0,money:0,bricks:0,clicks:0,barterLvl:0,tradeWorkers:[],tradeWorkersCount:0,tradeWorkersLvl:0,stoneWorkers:[],stoneCuttersCount:0,stoneWorkerLvl:0,guards:0,guardsLvl:0,dayCounter:0,daysPast:0,version:.5,totalBricks:0,totalMoney:0,newPlayer:!0,quests:{questLvl:0,questDesc:"",questReward:0,completed:!1,quest:{complete:!1,chiselLvl:0,barterLvl:0,masons:0,masonLvl:0,traders:0,traderLvl:0}},sky:{sun:{x:0,y:0},moon:{x:0,y:0}},housingLimit:0,housingLvl:0,totalWorkers:0,stockpile:0,stockpileLvl:0,screenWidth:0,screenChange:!1},this.pageHeight=0,this.isHousingFull=!1,this.stoneWorkerReturn=new s.m,this.tradeWorkerReturn=new s.m,this.playerResourcesReturn=new s.m,this.chiselLvlCost=10,this.barterLvlCost=10,this.stoneWorkerCost=20,this.tradeWorkerCost=20,this.trainStoneWorkerCost=20,this.trainTradeWorkerCost=20,this.stockpileCost=25,this.housingCost=40,this.helpValue=-1,this.helpWindowOpen=!1,this.optionsSelected={darkMode:!0,soundsOn:!0}}return Object.defineProperty(l.prototype,"playerResources",{get:function(){return this.playerResourcesTemp},set:function(l){this.playerResourcesTemp=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){if(localStorage.length>0&&localStorage.getItem("mason_options")){var l=JSON.parse(localStorage.getItem("mason_options"));this.optionsSelected={darkMode:l.darkMode,soundsOn:l.soundsOn};var e=document.getElementsByTagName("body");this.optionsSelected.darkMode?e[0].classList.add("darkMode"):e[0].classList.remove("darkMode")}else{var t=JSON.stringify(this.optionsSelected);localStorage.setItem("mason_options",t)}this.calcHeightOfPage();for(var s=0;s<this.playerResourcesTemp.chiselLvl;s++){var n=Math.trunc(this.chiselLvlCost/4)+Math.trunc(this.chiselLvlCost/3);this.chiselLvlCost+=n}for(s=0;s<this.playerResourcesTemp.barterLvl;s++){n=Math.trunc(this.barterLvlCost/2)+Math.trunc(this.barterLvlCost/3);this.barterLvlCost+=n}for(s=0;s<this.playerResourcesTemp.stoneWorkerLvl;s++){n=Math.trunc(this.trainStoneWorkerCost/7);this.trainStoneWorkerCost+=n;var o=Math.trunc(this.stoneWorkerCost/5);this.stoneWorkerCost+=o}for(s=0;s<this.playerResourcesTemp.tradeWorkersLvl;s++){n=Math.trunc(this.trainTradeWorkerCost/7);this.trainTradeWorkerCost+=n;var r=Math.trunc(this.tradeWorkerCost/5);this.tradeWorkerCost+=r}for(s=0;s<this.playerResourcesTemp.stoneWorkers.length;s++){n=Math.trunc(this.trainStoneWorkerCost/7);this.trainStoneWorkerCost+=n}for(s=0;s<this.playerResourcesTemp.tradeWorkers.length;s++){n=Math.trunc(this.trainTradeWorkerCost/7);this.trainTradeWorkerCost+=n}for(s=0;s<this.playerResourcesTemp.stockpileLvl;s++){n=Math.trunc(this.stockpileCost/3);this.stockpileCost+=n}for(s=0;s<this.playerResourcesTemp.housingLvl;s++){n=Math.trunc(this.housingCost/2);this.housingCost+=n}},l.prototype.helpMe=function(l){this.helpValue=l,this.helpWindowOpen=!0},l.prototype.closeHelp=function(){this.helpWindowOpen=!1,this.helpValue=-1},l.prototype.hireStoneWorker=function(){if(this.playerResourcesTemp.totalWorkers<this.playerResourcesTemp.housingLimit){this.playerResourcesTemp.money-=this.stoneWorkerCost,this.playerResourcesTemp.stoneCuttersCount++;var l=Math.trunc(this.trainStoneWorkerCost/7);this.trainStoneWorkerCost+=l,this.playerResourcesTemp.totalWorkers++,this.playerResourcesReturn.emit(this.playerResourcesTemp),this.stoneWorkerReturn.emit(!0)}else this.isHousingFull=!0},l.prototype.hireTradeWorker=function(){if(this.playerResourcesTemp.totalWorkers<this.playerResourcesTemp.housingLimit){this.playerResourcesTemp.money-=this.tradeWorkerCost,this.playerResourcesTemp.tradeWorkersCount++;var l=Math.trunc(this.trainTradeWorkerCost/5);this.trainTradeWorkerCost+=l,this.playerResourcesTemp.totalWorkers++,this.playerResourcesReturn.emit(this.playerResourcesTemp),this.tradeWorkerReturn.emit(!0)}else this.isHousingFull=!0},l.prototype.upgradeChisel=function(){this.playerResourcesTemp.money-=this.chiselLvlCost,this.playerResourcesTemp.chiselLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.chiselLvlCost/4)+Math.trunc(this.chiselLvlCost/3);this.chiselLvlCost+=l},l.prototype.trainMason=function(){this.playerResourcesTemp.money-=this.trainStoneWorkerCost,this.playerResourcesTemp.stoneWorkerLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.trainStoneWorkerCost/7);this.trainStoneWorkerCost+=l;var e=Math.trunc(this.stoneWorkerCost/5);this.stoneWorkerCost+=e},l.prototype.trainTrader=function(){this.playerResourcesTemp.money-=this.trainTradeWorkerCost,this.playerResourcesTemp.tradeWorkersLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.trainTradeWorkerCost/7);this.trainTradeWorkerCost+=l;var e=Math.trunc(this.tradeWorkerCost/5);this.tradeWorkerCost+=e},l.prototype.upgradeBarter=function(){this.playerResourcesTemp.money-=this.barterLvlCost,this.playerResourcesTemp.barterLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.barterLvlCost/2)+Math.trunc(this.barterLvlCost/3);this.barterLvlCost+=l},l.prototype.upgradeStockpile=function(){this.playerResourcesTemp.money-=this.stockpileCost,this.playerResourcesTemp.stockpile+=10,this.playerResourcesTemp.stockpileLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.stockpileCost/3);this.stockpileCost+=l},l.prototype.upgradeHousing=function(){this.playerResourcesTemp.money-=this.housingCost,this.playerResourcesTemp.housingLimit+=8,this.playerResourcesTemp.housingLvl++,this.playerResourcesReturn.emit(this.playerResourcesTemp);var l=Math.trunc(this.housingCost/2);this.housingCost+=l},l.prototype.calcHeightOfPage=function(){var l=this;setTimeout((function(){var e=document.documentElement.clientHeight;l.pageHeight=e-.39*e}),0)},l.prototype.closeHousingLimitModal=function(){this.isHousingFull=!1},l}(),b=s.qb({encapsulation:0,styles:[[".upgrade-list[_ngcontent-%COMP%]{margin-top:2em;width:100%;overflow:auto;height:24em}.upgrade-btn[_ngcontent-%COMP%]{width:75%!important;display:inline-block!important}.help[_ngcontent-%COMP%]{width:23%;margin-left:1.2%;display:inline-block}.display-money[_ngcontent-%COMP%]{font-weight:700;text-align:center}.info-dm[_ngcontent-%COMP%]{background-color:#606060}"]],data:{}});function y(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Your chisel determines how fast you can shape a rock into a brick."]))],null,null)}function k(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Masons will help you shape rocks into bricks but will expect $2 a day as starting pay. Your Chiseling skill will give them the same bonus."]))],null,null)}function v(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Training masons will increase their movement speed and will work longer and harder but they'll expect $2 more a day."]))],null,null)}function g(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Traders will sell your bricks for you but will expect $2 a day as starting pay. Your Bartering skill will give them the same bonus."]))],null,null)}function f(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Training traders will increase their movement speed and increase how much you can sell each brick for but they'll expect $2 more a day."]))],null,null)}function R(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Upgrading your Bartering skill will increase the amount bricks you can sell and the profit you can make per brick."]))],null,null)}function C(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Upgrading your Housing will increase the number of rooms availiable for your workers to live and sleep. The rooms availiable will increase by 8."]))],null,null)}function L(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Upgrading your Stockpile will increase the number of bricks you can store at once. The space availiable in the stockpile will increase by 10."]))],null,null)}function T(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,26,"div",[["class","modal"]],null,[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.closeHelp()&&s),s}),null,null)),(l()(),s.sb(1,0,null,null,25,"div",[["class","info-wrapper"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"info-dm":0}),(l()(),s.sb(5,0,null,null,5,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,h.b,h.a)),s.rb(6,4243456,null,1,p.a,[s.k,d.a,r.d],{color:[0,"color"]},null),s.Ib(603979776,1,{_toolbarRows:1}),(l()(),s.sb(8,0,null,0,2,"div",[["id","menu-width"]],null,null,null,null,null)),(l()(),s.sb(9,0,null,null,1,"p",[["class","info-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Tap Anywhere To Continue"])),(l()(),s.hb(16777216,null,null,1,null,y)),s.rb(12,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,k)),s.rb(14,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,v)),s.rb(16,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,g)),s.rb(18,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,f)),s.rb(20,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,R)),s.rb(22,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,C)),s.rb(24,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,L)),s.rb(26,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null)],(function(l,e){var t=e.component,s=l(e,4,0,!0===t.optionsSelected.darkMode);l(e,3,0,"info-wrapper",s),l(e,6,0,"primary"),l(e,12,0,0===t.helpValue),l(e,14,0,1===t.helpValue),l(e,16,0,2===t.helpValue),l(e,18,0,3===t.helpValue),l(e,20,0,4===t.helpValue),l(e,22,0,5===t.helpValue),l(e,24,0,6===t.helpValue),l(e,26,0,7===t.helpValue)}),(function(l,e){l(e,5,0,s.Eb(e,6)._toolbarRows.length>0,0===s.Eb(e,6)._toolbarRows.length)}))}function W(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,12,"div",[["class","modal"]],null,[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.closeHousingLimitModal()&&s),s}),null,null)),(l()(),s.sb(1,0,null,null,11,"div",[["class","info-wrapper"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"info-dm":0}),(l()(),s.sb(5,0,null,null,5,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,h.b,h.a)),s.rb(6,4243456,null,1,p.a,[s.k,d.a,r.d],{color:[0,"color"]},null),s.Ib(603979776,2,{_toolbarRows:1}),(l()(),s.sb(8,0,null,0,2,"div",[["id","menu-width"]],null,null,null,null,null)),(l()(),s.sb(9,0,null,null,1,"p",[["class","info-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Tap Anywhere To Continue"])),(l()(),s.sb(11,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Not enough space for worker's M'Lord"]))],(function(l,e){var t=l(e,4,0,!0===e.component.optionsSelected.darkMode);l(e,3,0,"info-wrapper",t),l(e,6,0,"primary")}),(function(l,e){l(e,5,0,s.Eb(e,6)._toolbarRows.length>0,0===s.Eb(e,6)._toolbarRows.length)}))}function w(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,55,"div",[["class","upgrade-wrapper"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"p",[["class","display-money"]],null,null,null,null,null)),(l()(),s.Kb(2,null,["Money: $"," | Housing: ","/",""])),(l()(),s.sb(3,0,null,null,48,"div",[["class","upgrade-list"],["id","scrollbar"]],[[4,"height","px"]],null,null,null,null)),(l()(),s.sb(4,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.upgradeChisel()&&s),s}),u.b,u.a)),s.rb(5,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(6,0,["Upgrade Chisel: $",""])),(l()(),s.sb(7,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(0)&&s),s}),u.b,u.a)),s.rb(8,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(10,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.upgradeBarter()&&s),s}),u.b,u.a)),s.rb(11,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(12,0,["Upgrade Bartering Skills: $",""])),(l()(),s.sb(13,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(5)&&s),s}),u.b,u.a)),s.rb(14,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(16,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.upgradeStockpile()&&s),s}),u.b,u.a)),s.rb(17,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(18,0,["Upgrade Stockpile: $",""])),(l()(),s.sb(19,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(7)&&s),s}),u.b,u.a)),s.rb(20,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(22,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.upgradeHousing()&&s),s}),u.b,u.a)),s.rb(23,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(24,0,["Upgrade Housing: $",""])),(l()(),s.sb(25,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(6)&&s),s}),u.b,u.a)),s.rb(26,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(28,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.hireStoneWorker()&&s),s}),u.b,u.a)),s.rb(29,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(30,0,["Hire Mason: $",""])),(l()(),s.sb(31,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(1)&&s),s}),u.b,u.a)),s.rb(32,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(34,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.trainMason()&&s),s}),u.b,u.a)),s.rb(35,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(36,0,["Train Masons: $",""])),(l()(),s.sb(37,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(2)&&s),s}),u.b,u.a)),s.rb(38,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(40,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.hireTradeWorker()&&s),s}),u.b,u.a)),s.rb(41,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(42,0,["Hire Trader: $",""])),(l()(),s.sb(43,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(3)&&s),s}),u.b,u.a)),s.rb(44,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.sb(46,0,null,null,2,"button",[["class","control-button upgrade-btn"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.trainTrader()&&s),s}),u.b,u.a)),s.rb(47,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(l()(),s.Kb(48,0,["Train Trader: $",""])),(l()(),s.sb(49,0,null,null,2,"button",[["class","help"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.helpMe(4)&&s),s}),u.b,u.a)),s.rb(50,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["?"])),(l()(),s.hb(16777216,null,null,1,null,T)),s.rb(53,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,W)),s.rb(55,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null)],(function(l,e){var t=e.component;l(e,5,0,t.playerResources.money<t.chiselLvlCost,"primary"),l(e,8,0,"primary"),l(e,11,0,t.playerResources.money<t.barterLvlCost,"primary"),l(e,14,0,"primary"),l(e,17,0,t.playerResources.money<t.stockpileCost,"primary"),l(e,20,0,"primary"),l(e,23,0,t.playerResources.money<t.housingCost,"primary"),l(e,26,0,"primary"),l(e,29,0,t.playerResources.money<t.stoneWorkerCost,"primary"),l(e,32,0,"primary"),l(e,35,0,0===t.playerResources.stoneWorkers.length||t.playerResources.money<t.trainStoneWorkerCost,"primary"),l(e,38,0,"primary"),l(e,41,0,t.playerResources.money<t.tradeWorkerCost,"primary"),l(e,44,0,"primary"),l(e,47,0,0===t.playerResources.tradeWorkers.length||t.playerResources.money<t.trainTradeWorkerCost,"primary"),l(e,50,0,"primary"),l(e,53,0,t.helpWindowOpen),l(e,55,0,t.isHousingFull)}),(function(l,e){var t=e.component;l(e,2,0,t.playerResourcesTemp.money,t.playerResourcesTemp.totalWorkers,t.playerResourcesTemp.housingLimit),l(e,3,0,t.pageHeight),l(e,4,0,s.Eb(e,5).disabled||null,"NoopAnimations"===s.Eb(e,5)._animationMode),l(e,6,0,t.chiselLvlCost),l(e,7,0,s.Eb(e,8).disabled||null,"NoopAnimations"===s.Eb(e,8)._animationMode),l(e,10,0,s.Eb(e,11).disabled||null,"NoopAnimations"===s.Eb(e,11)._animationMode),l(e,12,0,t.barterLvlCost),l(e,13,0,s.Eb(e,14).disabled||null,"NoopAnimations"===s.Eb(e,14)._animationMode),l(e,16,0,s.Eb(e,17).disabled||null,"NoopAnimations"===s.Eb(e,17)._animationMode),l(e,18,0,t.stockpileCost),l(e,19,0,s.Eb(e,20).disabled||null,"NoopAnimations"===s.Eb(e,20)._animationMode),l(e,22,0,s.Eb(e,23).disabled||null,"NoopAnimations"===s.Eb(e,23)._animationMode),l(e,24,0,t.housingCost),l(e,25,0,s.Eb(e,26).disabled||null,"NoopAnimations"===s.Eb(e,26)._animationMode),l(e,28,0,s.Eb(e,29).disabled||null,"NoopAnimations"===s.Eb(e,29)._animationMode),l(e,30,0,t.stoneWorkerCost),l(e,31,0,s.Eb(e,32).disabled||null,"NoopAnimations"===s.Eb(e,32)._animationMode),l(e,34,0,s.Eb(e,35).disabled||null,"NoopAnimations"===s.Eb(e,35)._animationMode),l(e,36,0,t.trainStoneWorkerCost),l(e,37,0,s.Eb(e,38).disabled||null,"NoopAnimations"===s.Eb(e,38)._animationMode),l(e,40,0,s.Eb(e,41).disabled||null,"NoopAnimations"===s.Eb(e,41)._animationMode),l(e,42,0,t.tradeWorkerCost),l(e,43,0,s.Eb(e,44).disabled||null,"NoopAnimations"===s.Eb(e,44)._animationMode),l(e,46,0,s.Eb(e,47).disabled||null,"NoopAnimations"===s.Eb(e,47)._animationMode),l(e,48,0,t.trainTradeWorkerCost),l(e,49,0,s.Eb(e,50).disabled||null,"NoopAnimations"===s.Eb(e,50)._animationMode)}))}var q=function(){function l(l){this.ngZone=l,this.playerResourcesTemp={chiselLvl:0,money:0,bricks:0,clicks:0,barterLvl:0,tradeWorkers:[],tradeWorkersCount:0,tradeWorkersLvl:0,stoneWorkers:[],stoneCuttersCount:0,stoneWorkerLvl:0,guards:0,guardsLvl:0,dayCounter:0,daysPast:0,version:.5,totalClicks:0,totalBricks:0,totalMoney:0,newPlayer:!0,quests:{questLvl:0,questDesc:"",questReward:0,completed:!1,quest:{complete:!1,chiselLvl:0,barterLvl:0,masons:0,masonLvl:0,traders:0,traderLvl:0}},sky:{sun:{x:0,y:0},moon:{x:0,y:0}},housingLimit:0,housingLvl:0,totalWorkers:0,stockpile:0,stockpileLvl:0,screenWidth:0,screenChange:!1},this.playerResourcesReturn=new s.m,this.stone1=new Image,this.stone2=new Image,this.stone3=new Image,this.stone4=new Image,this.rockHit=new Image,this.stoneWorkerImg=new Image,this.tradeWorkerImg=new Image,this.sunImg=new Image,this.moonImg=new Image,this.stoneHP=Math.floor(10*Math.random())+10,this.addStoneSoundPath="assets/sounds/add_stone.wav",this.addStoneSound=new Audio,this.sellSoundPath="assets/sounds/sell.wav",this.sellSound=new Audio,this.currentStone={image:this.stone1,hitpoints:this.stoneHP},this.hits=0,this.stoneWorkerFreq=Math.floor(5*Math.random())+1,this.tradeWorkerFreq=Math.floor(5*Math.random())+1,this.workPayCounter=0,this.chiselDmg=0,this.bartering=0,this.stoneWorkerSpeed=0,this.tradeWorkerSpeed=0,this.chiselClicked=!1,this.workerPayday=0,this.displayPayday=!1,this.optionsSelected={darkMode:!0,soundsOn:!0},this.stars=[],this.starLight=0}return Object.defineProperty(l.prototype,"playerResources",{get:function(){return this.playerResourcesTemp},set:function(l){this.playerResourcesTemp=l,this.chiselStone(this.playerResourcesTemp.clicks)},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;if(this.addStoneSound.src=this.addStoneSoundPath,this.addStoneSound.load(),this.sellSound.src=this.sellSoundPath,this.sellSound.load(),localStorage.length>0&&localStorage.getItem("mason_options")){var e=JSON.parse(localStorage.getItem("mason_options"));this.optionsSelected={darkMode:e.darkMode,soundsOn:e.soundsOn};var t=document.getElementsByTagName("body");this.optionsSelected.darkMode?t[0].classList.add("darkMode"):t[0].classList.remove("darkMode")}else{document.getElementsByTagName("body")[0].classList.add("darkMode");var s=JSON.stringify(this.optionsSelected);localStorage.setItem("mason_options",s)}this.stone1.src="./assets/images/rock1.png",this.stone2.src="./assets/images/rock2.png",this.stone3.src="./assets/images/rock3.png",this.stone4.src="./assets/images/rock4.png",this.rockHit.src="./assets/images/rockChiseled.png",this.stoneWorkerImg.src="./assets/images/stoneWorker.png",this.tradeWorkerImg.src="./assets/images/tradeWorker.png",this.sunImg.src="./assets/images/SunImg.png",this.moonImg.src="./assets/images/MoonImg.png",this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.canvas.width=.9*window.innerWidth,this.ctx.canvas.height=.5*window.innerHeight,this.objectSizeWidth=.01*this.ctx.canvas.width,this.objectSizeHeight=.01*this.ctx.canvas.height,this.objectSize=this.objectSizeWidth+this.objectSizeHeight,this.starCount=Math.abs(this.ctx.canvas.width/15),this.getStars(),this.stone1.onload=function(){l.getStoneWorkerWorkTime(),l.getTradeWorkerWorkTime(),l.getWorkerPayment(),l.resetStone(),0===l.playerResourcesTemp.sky.sun.x&&0===l.playerResourcesTemp.sky.sun.y&&(l.playerResourcesTemp.sky.sun.x=.5*l.ctx.canvas.width,l.playerResourcesTemp.sky.sun.y=.74*l.ctx.canvas.height),0===l.playerResourcesTemp.sky.moon.x&&0===l.playerResourcesTemp.sky.moon.y&&(l.playerResourcesTemp.sky.moon.x=.5*l.ctx.canvas.width,l.playerResourcesTemp.sky.moon.y=.74*l.ctx.canvas.height),(l.playerResourcesTemp.sky.sun.x>.5*l.ctx.canvas.width||l.playerResourcesTemp.sky.sun.x<.5*l.ctx.canvas.width)&&(l.playerResourcesTemp.sky.sun.x=.5*l.ctx.canvas.width),!1===l.playerResourcesTemp.screenChange&&(l.playerResources.screenWidth=window.innerWidth),l.playerResourcesTemp.sky.sun.y<.74*l.ctx.canvas.height&&l.playerResourcesTemp.screenChange?(l.playerResourcesTemp.sky.sun.y=l.playerResourcesTemp.sky.sun.y/.74,l.playerResourcesTemp.screenChange=!1):l.playerResourcesTemp.sky.sun.y>.74*l.ctx.canvas.height&&l.playerResourcesTemp.screenChange&&(l.playerResourcesTemp.sky.sun.y=.74*l.playerResourcesTemp.sky.sun.y,l.playerResourcesTemp.screenChange=!1),l.playerResourcesTemp.sky.moon.y<.74*l.ctx.canvas.height&&l.playerResourcesTemp.screenChange?(l.playerResourcesTemp.sky.moon.y=l.playerResourcesTemp.sky.moon.y/.74,l.playerResourcesTemp.screenChange=!1):l.playerResourcesTemp.sky.moon.y>.74*l.ctx.canvas.height&&l.playerResourcesTemp.screenChange&&(l.playerResourcesTemp.sky.moon.y=.74*l.playerResourcesTemp.sky.moon.y,l.playerResourcesTemp.screenChange=!1),l.playerResourcesReturn.emit(l.playerResourcesTemp),l.playerResourcesTemp.stoneWorkers.length>0&&l.playerResourcesTemp.stoneWorkers.forEach((function(e){e.startPos=Math.floor(2*Math.random()),e.workLoad=Math.floor(5*Math.random())+3+l.playerResourcesTemp.stoneWorkerLvl,e.image=l.stoneWorkerImg,0===e.startPos?(e.x=l.ctx.canvas.width/(-.7*l.objectSize),e.y=.76*l.ctx.canvas.height,e.direction=0):1===e.startPos&&(e.x=1*l.ctx.canvas.width,e.y=.76*l.ctx.canvas.height,e.direction=1)})),l.playerResourcesTemp.tradeWorkers.length>0&&l.playerResourcesTemp.tradeWorkers.forEach((function(e){e.startPos=Math.floor(2*Math.random()),e.image=l.tradeWorkerImg,0===e.startPos?(e.x=l.ctx.canvas.width/(-.7*l.objectSize),e.y=.5*l.ctx.canvas.height,e.direction=0):1===e.startPos&&(e.x=1*l.ctx.canvas.width,e.y=.5*l.ctx.canvas.height,e.direction=1)})),l.chiselClicked=!1,l.getAllWorkers(l.playerResourcesTemp.stoneWorkers,l.playerResourcesTemp.tradeWorkers);for(var e=0;e<l.playerResourcesTemp.chiselLvl;e++)l.chiselDmg+=.6;for(e=0;e<l.playerResourcesTemp.stoneWorkerLvl;e++)l.stoneWorkerSpeed+=3e-4*l.ctx.canvas.width;for(e=0;e<l.playerResourcesTemp.tradeWorkersLvl;e++)l.tradeWorkerSpeed+=3e-4*l.ctx.canvas.width;for(e=0;e<l.playerResourcesTemp.barterLvl;e++)l.bartering+=1;l.workPayCounter=l.playerResourcesTemp.dayCounter}},l.prototype.ngOnDestroy=function(){this.sellSound=new Audio,this.addStoneSound=new Audio,clearInterval(this.gameInterval),clearInterval(this.workPayInterval),clearInterval(this.tradeWorksWorkInterval),clearInterval(this.stoneCutterWorkInterval),cancelAnimationFrame(this.requestGameAnimatId)},l.prototype.drawBackground=function(){this.playerResourcesTemp.dayCounter<=40?this.playerResourcesTemp.dayCounter<=33?this.ctx.fillStyle="#0000FF":this.playerResourcesTemp.dayCounter>=34&&this.playerResourcesTemp.dayCounter<=36?this.ctx.fillStyle="#0000F3":this.playerResourcesTemp.dayCounter>=37&&this.playerResourcesTemp.dayCounter<=39?this.ctx.fillStyle="#0000E6":this.playerResourcesTemp.dayCounter>=40&&(this.ctx.fillStyle="#0000DA"):this.playerResourcesTemp.dayCounter>=41&&this.playerResourcesTemp.dayCounter<79?this.playerResourcesTemp.dayCounter<=70?this.ctx.fillStyle="#0000CD":this.playerResourcesTemp.dayCounter>=71&&this.playerResourcesTemp.dayCounter<=73?this.ctx.fillStyle="#0000BD":this.playerResourcesTemp.dayCounter>=74&&this.playerResourcesTemp.dayCounter<=76?this.ctx.fillStyle="#0000AC":this.playerResourcesTemp.dayCounter>=77&&(this.ctx.fillStyle="#00009C"):this.playerResourcesTemp.dayCounter>=79&&(this.playerResourcesTemp.dayCounter<=115?this.ctx.fillStyle="#00008B":this.playerResourcesTemp.dayCounter>=116&&this.playerResourcesTemp.dayCounter<=117?this.ctx.fillStyle="#0000A8":this.playerResourcesTemp.dayCounter>=118&&this.playerResourcesTemp.dayCounter<=119?this.ctx.fillStyle="#0000C5":this.playerResourcesTemp.dayCounter>=120&&(this.ctx.fillStyle="#0000E2")),this.ctx.fillRect(0,this.ctx.canvas.height/2*-1,this.ctx.canvas.width,this.ctx.canvas.height),this.playerResourcesTemp.dayCounter>=79&&this.playerResourcesTemp.dayCounter<=117?this.drawStars(this.stars):this.getStars(),this.ctx.drawImage(this.sunImg,this.playerResourcesTemp.sky.sun.x+-.1*this.ctx.canvas.width,this.playerResourcesTemp.sky.sun.y+-.055*this.ctx.canvas.width,10*this.objectSize,10*this.objectSize),this.ctx.drawImage(this.moonImg,this.playerResourcesTemp.sky.moon.x+-.1*this.ctx.canvas.width,this.playerResourcesTemp.sky.moon.y+-.055*this.ctx.canvas.width,10*this.objectSize,10*this.objectSize),this.drawSky(),this.playerResourcesTemp.dayCounter<=40?this.playerResourcesTemp.dayCounter<=33?this.ctx.fillStyle="#228B22":this.playerResourcesTemp.dayCounter>=34&&this.playerResourcesTemp.dayCounter<=36?this.ctx.fillStyle="#1A881A":this.playerResourcesTemp.dayCounter>=37&&this.playerResourcesTemp.dayCounter<=39?this.ctx.fillStyle="#118611":this.playerResourcesTemp.dayCounter>=40&&(this.ctx.fillStyle="#098309"):this.playerResourcesTemp.dayCounter>=41&&this.playerResourcesTemp.dayCounter<79?this.playerResourcesTemp.dayCounter<=70?this.ctx.fillStyle="#008000":this.playerResourcesTemp.dayCounter>=71&&this.playerResourcesTemp.dayCounter<=73?this.ctx.fillStyle="#007900":this.playerResourcesTemp.dayCounter>=74&&this.playerResourcesTemp.dayCounter<=76?this.ctx.fillStyle="#007200":this.playerResourcesTemp.dayCounter>=77&&(this.ctx.fillStyle="#006B00"):this.playerResourcesTemp.dayCounter>=79&&(this.playerResourcesTemp.dayCounter<=115?this.ctx.fillStyle="#006400":this.playerResourcesTemp.dayCounter>=116&&this.playerResourcesTemp.dayCounter<=117?this.ctx.fillStyle="#096E09":this.playerResourcesTemp.dayCounter>=118&&this.playerResourcesTemp.dayCounter<=119?this.ctx.fillStyle="#117811":this.playerResourcesTemp.dayCounter>=120&&(this.ctx.fillStyle="#1A811A")),this.ctx.fillRect(0,this.ctx.canvas.height/2,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.drawImage(this.currentStone.image,.5*this.ctx.canvas.width+-.1*this.ctx.canvas.width,.74*this.ctx.canvas.height+-.055*this.ctx.canvas.width,10*this.objectSize,10*this.objectSize),this.chiselClicked&&this.playerChiseled()},l.prototype.playerChiseled=function(){var l=.1*Math.floor(3*Math.random()+4),e=.1*Math.floor(3*Math.random()+6);this.ctx.drawImage(this.rockHit,this.ctx.canvas.width*l+-.1*this.ctx.canvas.width,this.ctx.canvas.height*e+-.055*this.ctx.canvas.width,10*this.objectSize,10*this.objectSize),this.ctx.restore()},l.prototype.chiselStone=function(l){var e=this;if(l+=this.chiselDmg,this.playerResourcesTemp.bricks<this.playerResourcesTemp.stockpile){this.chiselClicked=!0,l>=Math.trunc(this.currentStone.hitpoints/4)&&0===this.hits&&this.ctx&&(this.currentStone.image=this.stone2,this.hits++,l>Math.trunc(this.currentStone.hitpoints/3)+Math.trunc(this.currentStone.hitpoints/3)&&this.hits++),l>Math.trunc(this.currentStone.hitpoints/3)&&1===this.hits&&this.ctx&&(this.currentStone.image=this.stone3,l>Math.trunc(this.currentStone.hitpoints/2)+Math.trunc(this.currentStone.hitpoints/4)&&this.hits++),l>Math.trunc(this.currentStone.hitpoints/2)&&2===this.hits&&this.ctx&&(this.currentStone.image=this.stone4,l>=Math.trunc(this.currentStone.hitpoints)&&this.hits++),l>=Math.trunc(this.currentStone.hitpoints)&&3===this.hits&&(this.playerResourcesTemp.bricks+=1,this.playerResourcesTemp.totalBricks+=1,this.optionsSelected.soundsOn&&this.addStoneSound.play(),this.resetStone());var t=setInterval((function(){e.chiselClicked=!1,clearInterval(t)}),100)}},l.prototype.sellStone=function(){var l=Math.floor(Math.random()*(this.bartering+1))+1;if(l>=this.playerResourcesTemp.bricks&&(l=this.playerResourcesTemp.bricks),this.playerResourcesTemp.bricks>0){this.playerResourcesTemp.bricks<=l&&(this.playerResourcesTemp.bricks=l);var e=(Math.floor(Math.random()*(this.bartering+3+this.playerResources.tradeWorkersLvl))+(1+this.bartering+this.playerResources.tradeWorkersLvl))*l;this.playerResourcesTemp.money+=e,this.playerResourcesTemp.totalMoney+=e,this.playerResourcesTemp.bricks-=l,this.optionsSelected.soundsOn&&this.sellSound.play()}else this.playerResourcesTemp.bricks<0&&(this.playerResourcesTemp.bricks=0);this.playerResourcesReturn.emit(this.playerResourcesTemp)},l.prototype.resetStone=function(){this.playerResourcesTemp.clicks=0,this.stoneHP=Math.floor(10*Math.random())+10,this.currentStone.image=this.stone1,this.currentStone.hitpoints=this.stoneHP,this.hits=0,this.playerResourcesReturn.emit(this.playerResourcesTemp)},l.prototype.getStoneWorkerWorkTime=function(){var l=this;this.stoneCutterWorkInterval=setInterval((function(){!1===l.playerResourcesTemp.newPlayer&&(l.stoneWorkerFreq=Math.floor(5*Math.random())+1)}),2500)},l.prototype.drawWorker=function(l){this.ctx.drawImage(l.image,l.x,l.y,5*this.objectSize,5*this.objectSize)},l.prototype.getAllWorkers=function(l,e){var t=this;this.ngZone.runOutsideAngular((function(){return t.gameTicks(l,e)})),this.gameInterval=setInterval((function(){t.gameTicks(l,e)}),30)},l.prototype.gameTicks=function(l,e){var t=this;this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.drawBackground(),e.forEach((function(l){(t.tradeWorkerFreq===l.frequency&&t.playerResourcesTemp.bricks>0||!0===l.startedWork)&&(0===l.startPos&&(0===l.direction&&l.x<.38*t.ctx.canvas.width?(l.x+=.005*t.ctx.canvas.width+t.tradeWorkerSpeed,l.startedWork=!0,l.x>.38*t.ctx.canvas.width&&(l.direction=1)):1===l.direction&&(l.x>=-9*t.objectSize?l.x-=.005*t.ctx.canvas.width+t.tradeWorkerSpeed:(l.startedWork=!1,l.startPos=0,l.direction=0,t.sellStone(),t.playerResourcesReturn.emit(t.playerResourcesTemp)))),1===l.startPos&&(1===l.direction&&l.x>=.5*t.ctx.canvas.width?(l.x-=.005*t.ctx.canvas.width+t.tradeWorkerSpeed,l.startedWork=!0,l.x<.5*t.ctx.canvas.width&&(l.direction=0)):0===l.direction&&(l.x<=t.ctx.canvas.width+t.objectSize?l.x+=.005*t.ctx.canvas.width+t.tradeWorkerSpeed:(l.startedWork=!1,l.startPos=1,l.direction=1,t.sellStone())))),t.drawWorker(l)})),l.forEach((function(l){if(t.stoneWorkerFreq===l.frequency||!0===l.startedWork){if(0===l.startPos)if(0===l.direction&&l.x<.38*t.ctx.canvas.width){if(l.x+=.005*t.ctx.canvas.width+t.stoneWorkerSpeed,l.startedWork=!0,l.x>.38*t.ctx.canvas.width){for(var e=0;e<t.playerResourcesTemp.chiselLvl;e++)t.playerResourcesTemp.clicks+=.6;(n=1e3-10*t.playerResourcesTemp.stoneWorkerLvl)<=30&&(n=30);var s=setInterval((function(){l.workLoad--,t.playerResourcesTemp.clicks+=1,t.chiselStone(t.playerResourcesTemp.clicks),l.workLoad<=0&&(l.direction=1,clearInterval(s)),t.playerResourcesReturn.emit(t.playerResourcesTemp)}),n)}}else 1===l.direction&&(l.x>=-9*t.objectSize?l.x-=.005*t.ctx.canvas.width+t.stoneWorkerSpeed:(l.startedWork=!1,l.startPos=0,l.direction=0,l.workLoad=Math.floor(5*Math.random())+3+t.playerResourcesTemp.stoneWorkerLvl));if(1===l.startPos)if(1===l.direction&&l.x>=.5*t.ctx.canvas.width){if(l.x-=.005*t.ctx.canvas.width+t.stoneWorkerSpeed,l.startedWork=!0,l.x<.5*t.ctx.canvas.width){for(e=0;e<t.playerResourcesTemp.chiselLvl;e++)t.playerResourcesTemp.clicks+=.6;var n;(n=1e3-10*t.playerResourcesTemp.stoneWorkerLvl)<=30&&(n=30);var o=setInterval((function(){l.workLoad--,t.playerResourcesTemp.clicks+=1,t.chiselStone(t.playerResourcesTemp.clicks),l.workLoad<=0&&(l.direction=0,clearInterval(o)),t.playerResourcesReturn.emit(t.playerResourcesTemp)}),n)}}else 0===l.direction&&(l.x<=t.ctx.canvas.width+t.objectSize?l.x+=.005*t.ctx.canvas.width+t.stoneWorkerSpeed:(l.startedWork=!1,l.startPos=1,l.direction=1,l.workLoad=Math.floor(5*Math.random())+3+t.playerResourcesTemp.stoneWorkerLvl))}t.drawWorker(l)})),this.requestGameAnimatId=requestAnimationFrame((function(){return t.gameTicks}))},l.prototype.getTradeWorkerWorkTime=function(){var l=this;this.tradeWorksWorkInterval=setInterval((function(){!1===l.playerResourcesTemp.newPlayer&&(l.tradeWorkerFreq=Math.floor(5*Math.random())+1)}),2500)},l.prototype.getWorkerPayment=function(){var l=this;this.workPayInterval=setInterval((function(){if(!1===l.playerResourcesTemp.newPlayer&&(l.workPayCounter++,l.playerResourcesTemp.dayCounter=l.workPayCounter,l.playerResourcesReturn.emit(l.playerResourcesTemp),l.workPayCounter>=120)){var e=l.playerResourcesTemp.stoneWorkers.length*(2*l.playerResourcesTemp.stoneWorkerLvl+2),t=l.playerResourcesTemp.tradeWorkers.length*(2*l.playerResourcesTemp.tradeWorkersLvl+2);if(l.workerPayday=e+t,l.playerResourcesTemp.money-=e+t,l.playerResourcesTemp.daysPast++,l.workPayCounter=0,l.playerResourcesReturn.emit(l.playerResourcesTemp),l.playerResourcesTemp.stoneWorkers.length>0||l.playerResourcesTemp.tradeWorkers.length>0){l.displayPayday=!0;var s=setInterval((function(){l.displayPayday=!1,clearInterval(s)}),4e3)}}}),1e3)},l.prototype.drawSky=function(){this.playerResourcesTemp.dayCounter<=40&&this.playerResourcesTemp.dayCounter>0?(this.playerResourcesTemp.sky.sun.y+=-58e-5*this.ctx.canvas.height+-16e-5*this.ctx.canvas.height,this.playerResourcesTemp.sky.sun.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.moon.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.moon.y=.74*this.ctx.canvas.height):this.playerResourcesTemp.dayCounter>=41&&this.playerResourcesTemp.dayCounter<79?(this.playerResourcesTemp.sky.sun.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.sun.y=.74*this.ctx.canvas.height,this.playerResourcesTemp.sky.moon.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.moon.y=.74*this.ctx.canvas.height):this.playerResourcesTemp.dayCounter>=79&&(this.playerResourcesTemp.sky.moon.y+=-58e-5*this.ctx.canvas.height+-16e-5*this.ctx.canvas.height,this.playerResourcesTemp.sky.moon.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.sun.x=.5*this.ctx.canvas.width,this.playerResourcesTemp.sky.sun.y=.74*this.ctx.canvas.height)},l.prototype.drawStars=function(l){for(var e=this,t=setInterval((function(){e.playerResourcesTemp.dayCounter>=78&&e.playerResourcesTemp.dayCounter<=79?(e.starLight+=.1,e.starLight>=1&&(e.starLight=1)):e.playerResourcesTemp.dayCounter<=115&&(e.starLight=1),e.playerResourcesTemp.dayCounter>=116&&e.playerResourcesTemp.dayCounter<=117&&(e.starLight-=.1,e.starLight<=0&&(e.starLight=0)),clearInterval(t)}),100),s=0;s<l.length;s++)this.ctx.beginPath(),this.ctx.arc(l[s].x,l[s].y,l[s].radius,0,2*Math.PI,!1),this.ctx.fillStyle="rgba(255, 255, 255, "+this.starLight+")",this.ctx.fill(),this.ctx.lineWidth=1,this.ctx.strokeStyle="rgba(255, 255, 255, "+this.starLight+")",this.ctx.stroke()},l.prototype.getStars=function(){this.stars=[];for(var l=0;l<this.starCount;l++){var e={x:0,y:0,radius:0};e.x=Math.floor(Math.random()*this.ctx.canvas.width)+1,e.y=Math.floor(Math.random()*(this.ctx.canvas.height/2))+1,e.radius=.1*this.objectSize,this.stars.push(e)}},l}(),M=s.qb({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;margin:0 auto}.workers-payday[_ngcontent-%COMP%]{position:absolute;top:calc(20% + 1.4em);text-align:center;width:90%}"]],data:{}});function x(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","workers-payday"]],null,null,null,null,null)),(l()(),s.Kb(1,null,["Worker's Payday -$",""]))],null,(function(l,e){l(e,1,0,e.component.workerPayday)}))}function S(l){return s.Mb(0,[s.Ib(402653184,1,{canvas:0}),(l()(),s.sb(1,0,null,null,3,"div",[["class","stone-view-wrapper"]],null,null,null,null,null)),(l()(),s.hb(16777216,null,null,1,null,x)),s.rb(3,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(4,0,[[1,0],["canvas",1]],null,0,"canvas",[["id","canvas"]],null,null,null,null,null))],(function(l,e){l(e,3,0,e.component.displayPayday)}),null)}var I=function(){function l(){this.playerResourcesTemp={chiselLvl:0,money:0,bricks:0,clicks:0,barterLvl:0,tradeWorkers:[],tradeWorkersCount:0,tradeWorkersLvl:0,stoneWorkers:[],stoneCuttersCount:0,stoneWorkerLvl:0,guards:0,guardsLvl:0,dayCounter:0,daysPast:0,version:.5,totalClicks:0,totalBricks:0,totalMoney:0,newPlayer:!0,quests:{questLvl:0,questDesc:"",questReward:0,completed:!1,quest:{complete:!1,chiselLvl:0,barterLvl:0,masons:0,masonLvl:0,traders:0,traderLvl:0}},sky:{sun:{x:0,y:0},moon:{x:0,y:0}},housingLimit:0,housingLvl:0,totalWorkers:0,stockpile:0,stockpileLvl:0,screenWidth:0,screenChange:!1},this.workersProfits=0,this.workersPayCheck=0,this.pageHeight=0,this.timeOfDay="Morning",this.baseCostPerBrick=1,this.optionsSelected={darkMode:!0,soundsOn:!0}}return Object.defineProperty(l.prototype,"playerResources",{get:function(){return this.playerResourcesTemp},set:function(l){this.playerResourcesTemp=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){if(localStorage.length>0&&localStorage.getItem("mason_options")){var l=JSON.parse(localStorage.getItem("mason_options"));this.optionsSelected={darkMode:l.darkMode,soundsOn:l.soundsOn}}this.calcWorkerProfits(),this.calcHeightOfPage(),this.calcTimeOfDay(),this.baseCostPerBrick+=this.playerResourcesTemp.barterLvl+this.playerResourcesTemp.tradeWorkersLvl},l.prototype.calcWorkerProfits=function(){var l,e=4+this.playerResourcesTemp.stoneWorkerLvl;this.workersPayCheck=this.playerResourcesTemp.stoneWorkers.length*(2*this.playerResourcesTemp.stoneWorkerLvl+2)+this.playerResourcesTemp.tradeWorkers.length*(2*this.playerResourcesTemp.tradeWorkersLvl+2);var t=Math.floor(Math.random()*(this.playerResourcesTemp.barterLvl+3+this.playerResourcesTemp.tradeWorkersLvl))+1+this.playerResourcesTemp.barterLvl+this.playerResourcesTemp.tradeWorkersLvl;l=Math.ceil(9.6*(e+.6*this.playerResourcesTemp.stoneWorkerLvl*this.playerResourcesTemp.stoneWorkers.length)/14.5*t)*this.playerResourcesTemp.tradeWorkers.length+this.playerResourcesTemp.tradeWorkersLvl,this.workersProfits=l-this.workersPayCheck},l.prototype.calcHeightOfPage=function(){var l=this;setTimeout((function(){var e=document.documentElement.clientHeight;l.pageHeight=e-.39*e}),0)},l.prototype.calcTimeOfDay=function(){this.playerResourcesTemp.dayCounter<=40?this.timeOfDay="Morning":this.playerResourcesTemp.dayCounter>=41&&this.playerResourcesTemp.dayCounter<79?this.timeOfDay="Afternoon":this.playerResourcesTemp.dayCounter>=79&&(this.timeOfDay="Evening")},l}(),P=s.qb({encapsulation:0,styles:[['.column[_ngcontent-%COMP%]{width:45%;padding:7px;display:inline-block;margin-left:calc(4% - .7em)}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.stats-wrapper[_ngcontent-%COMP%]{margin-top:2%}.stat-lvls[_ngcontent-%COMP%]{width:100%;overflow:auto;height:24em}.stat-titles[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #000;padding:0;margin:0;margin-bottom:calc(1% - .6em);margin-right:calc(4% - .1em)}.lvl-amount[_ngcontent-%COMP%]{text-align:center}.lvl-title[_ngcontent-%COMP%]{text-align:center;padding:0;margin:0;margin-top:calc(1% + .4em)}.display-money[_ngcontent-%COMP%]{font-weight:700;text-align:center}.title-dm[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.quest-wrapper[_ngcontent-%COMP%]{border:1px solid;border-radius:5px;margin-bottom:3%}']],data:{}});function O(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,131,"div",[["class","stats-wrapper"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"p",[["class","display-money"]],null,null,null,null,null)),(l()(),s.Kb(2,null,["Money: $"," | Housing: ","/",""])),(l()(),s.sb(3,0,null,null,128,"div",[["class","stat-lvls"],["id","scrollbar"]],[[4,"height","px"]],null,null,null,null)),(l()(),s.sb(4,0,null,null,6,"div",[["class","quest-wrapper"]],null,null,null,null,null)),(l()(),s.sb(5,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Current Quest"])),(l()(),s.sb(7,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(8,null,["",""])),(l()(),s.sb(9,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(10,null,["Reward: $",""])),(l()(),s.sb(11,0,null,null,120,"div",[["class","row"]],null,null,null,null,null)),(l()(),s.sb(12,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(14,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(15,{"title-dm":0}),(l()(),s.Kb(-1,null,["Player's Levels"])),(l()(),s.sb(17,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(18,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Chisel Level"])),(l()(),s.sb(20,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(21,null,["",""])),(l()(),s.sb(22,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(23,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Barter Level"])),(l()(),s.sb(25,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(26,null,["",""])),(l()(),s.sb(27,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(28,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Housing Level"])),(l()(),s.sb(30,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(31,null,["",""])),(l()(),s.sb(32,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(33,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Stockpile Level"])),(l()(),s.sb(35,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(36,null,["",""])),(l()(),s.sb(37,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(39,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(40,{"title-dm":0}),(l()(),s.Kb(-1,null,["Mason Workers"])),(l()(),s.sb(42,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(43,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Hired Masons"])),(l()(),s.sb(45,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(46,null,["",""])),(l()(),s.sb(47,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(48,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Mason's Level"])),(l()(),s.sb(50,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(51,null,["",""])),(l()(),s.sb(52,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(54,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(55,{"title-dm":0}),(l()(),s.Kb(-1,null,["Trader Workers"])),(l()(),s.sb(57,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(58,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Hired Traders"])),(l()(),s.sb(60,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(61,null,["",""])),(l()(),s.sb(62,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(63,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Trader's Level"])),(l()(),s.sb(65,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(66,null,["",""])),(l()(),s.sb(67,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(69,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(70,{"title-dm":0}),(l()(),s.Kb(-1,null,["Worker Payments"])),(l()(),s.sb(72,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(73,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["$ Per Brick"])),(l()(),s.sb(75,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(76,null,["$"," - $",""])),(l()(),s.sb(77,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(78,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Owe Workers"])),(l()(),s.sb(80,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(81,null,["$"," a day"])),(l()(),s.sb(82,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(83,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Est. Profits"])),(l()(),s.sb(85,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(86,null,["$",""])),(l()(),s.sb(87,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(88,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Est. Money"])),(l()(),s.sb(90,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(91,null,["$",""])),(l()(),s.sb(92,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(94,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(95,{"title-dm":0}),(l()(),s.Kb(-1,null,["Game Time"])),(l()(),s.sb(97,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(98,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Time Of Day"])),(l()(),s.sb(100,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(101,null,["",""])),(l()(),s.sb(102,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(103,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Days Past"])),(l()(),s.sb(105,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(106,null,["",""])),(l()(),s.sb(107,0,null,null,4,"h2",[["class","stat-titles"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(109,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(110,{"title-dm":0}),(l()(),s.Kb(-1,null,["Good To Know"])),(l()(),s.sb(112,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(113,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Total Clicks"])),(l()(),s.sb(115,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(116,null,["",""])),(l()(),s.sb(117,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(118,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Total Bricks"])),(l()(),s.sb(120,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(121,null,["",""])),(l()(),s.sb(122,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(123,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Total Workers"])),(l()(),s.sb(125,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(126,null,["",""])),(l()(),s.sb(127,0,null,null,4,"div",[["class","column"]],null,null,null,null,null)),(l()(),s.sb(128,0,null,null,1,"h3",[["class","lvl-title"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Total Money"])),(l()(),s.sb(130,0,null,null,1,"p",[["class","lvl-amount"]],null,null,null,null,null)),(l()(),s.Kb(131,null,["$",""]))],(function(l,e){var t=e.component,s=l(e,15,0,!0===t.optionsSelected.darkMode);l(e,14,0,"stat-titles",s);var n=l(e,40,0,!0===t.optionsSelected.darkMode);l(e,39,0,"stat-titles",n);var o=l(e,55,0,!0===t.optionsSelected.darkMode);l(e,54,0,"stat-titles",o);var r=l(e,70,0,!0===t.optionsSelected.darkMode);l(e,69,0,"stat-titles",r);var u=l(e,95,0,!0===t.optionsSelected.darkMode);l(e,94,0,"stat-titles",u);var a=l(e,110,0,!0===t.optionsSelected.darkMode);l(e,109,0,"stat-titles",a)}),(function(l,e){var t=e.component;l(e,2,0,t.playerResourcesTemp.money,t.playerResourcesTemp.totalWorkers,t.playerResourcesTemp.housingLimit),l(e,3,0,t.pageHeight),l(e,8,0,t.playerResourcesTemp.quests.questDesc),l(e,10,0,t.playerResourcesTemp.quests.questReward),l(e,21,0,t.playerResourcesTemp.chiselLvl),l(e,26,0,t.playerResourcesTemp.barterLvl),l(e,31,0,t.playerResourcesTemp.housingLvl),l(e,36,0,t.playerResourcesTemp.stockpileLvl),l(e,46,0,t.playerResourcesTemp.stoneWorkers.length),l(e,51,0,t.playerResourcesTemp.stoneWorkerLvl),l(e,61,0,t.playerResourcesTemp.tradeWorkers.length),l(e,66,0,t.playerResourcesTemp.tradeWorkersLvl),l(e,76,0,t.baseCostPerBrick,t.playerResourcesTemp.barterLvl+3+t.playerResourcesTemp.tradeWorkersLvl),l(e,81,0,t.workersPayCheck),l(e,86,0,t.workersProfits),l(e,91,0,t.workersProfits+t.playerResourcesTemp.money),l(e,101,0,t.timeOfDay),l(e,106,0,t.playerResourcesTemp.daysPast),l(e,116,0,t.playerResourcesTemp.totalClicks),l(e,121,0,t.playerResourcesTemp.totalBricks),l(e,126,0,t.playerResourcesTemp.totalWorkers),l(e,131,0,t.playerResourcesTemp.totalMoney)}))}var _=t("Gi4r"),K=t("IP0z"),E=t("Xd0L"),A=t("cUpR"),D=s.qb({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function H(l){return s.Mb(2,[s.Db(null,0)],null,null)}var G=function(){function l(l){this.swUpdate=l,this.tradeWorkerGroup=[],this.stoneWorkerGroup=[],this.guardGroup=[],this.clicks=0,this.bricks=0,this.money=0,this.chiselLvl=0,this.barterLvl=0,this.stoneWorkerLvl=0,this.tradeWorkerLvl=0,this.guardLvl=0,this.dayCounter=0,this.daysPast=0,this.version=.5,this.totalClicks=0,this.totalBricks=0,this.totalMoney=0,this.newPlayer=!0,this.tutorialStep=9,this.tutorialStart=!1,this.isQuestAvailiable=!1,this.tradeWorkersCount=0,this.stoneCuttersCount=0,this.stoneIconPath="assets/images/rock4.png",this.chiselSoundPath="assets/sounds/chisel.wav",this.sellSoundPath="assets/sounds/sell.wav",this.chiselSound=new Audio,this.sellSound=new Audio,this.quests={questLvl:0,questDesc:"",questReward:0,completed:!1,quest:{complete:!1,chiselLvl:0,barterLvl:0,masons:0,masonLvl:0,traders:0,traderLvl:0}},this.sky={sun:{x:0,y:0},moon:{x:0,y:0}},this.housingLimit=8,this.housingLvl=0,this.totalWorkers=0,this.stockpileLvl=0,this.stockpile=10,this.screenWidth=0,this.screenChange=!1,this.playerResources={chiselLvl:this.chiselLvl,money:this.money,bricks:this.bricks,clicks:this.clicks,barterLvl:this.barterLvl,tradeWorkers:this.tradeWorkerGroup,tradeWorkersCount:this.tradeWorkersCount,tradeWorkersLvl:this.tradeWorkerLvl,stoneWorkers:this.stoneWorkerGroup,stoneCuttersCount:this.stoneCuttersCount,stoneWorkerLvl:this.stoneWorkerLvl,guards:this.guardGroup,guardsLvl:this.guardLvl,dayCounter:this.dayCounter,daysPast:this.daysPast,version:this.version,totalClicks:this.totalClicks,totalBricks:this.totalBricks,totalMoney:this.totalMoney,newPlayer:this.newPlayer,quests:this.quests,sky:this.sky,housingLimit:this.housingLimit,housingLvl:this.housingLvl,totalWorkers:this.totalWorkers,stockpile:this.stockpile,stockpileLvl:this.stockpileLvl,screenWidth:this.screenWidth,screenChange:this.screenChange},this.gameUpdateWarning=!1,this.isUpgradeDisplayed=!1,this.isStatsDisplayed=!1,this.currentChapter="Humble Beginnings",this.tradeWorkerObj={speed:0,frequency:Math.floor(5*Math.random())+1,x:0,y:0},this.optionsSelected={darkMode:!0,soundsOn:!0}}return l.prototype.ngOnInit=function(){var l=this;if(this.swUpdate.isEnabled&&(this.updateWatch=this.swUpdate.available.subscribe((function(){l.gameUpdateWarning=!0}))),this.chiselSound.src=this.chiselSoundPath,this.chiselSound.load(),this.sellSound.src=this.sellSoundPath,this.chiselSound.load(),localStorage.length>0&&localStorage.getItem("mason_options")){var e=JSON.parse(localStorage.getItem("mason_options"));this.optionsSelected={darkMode:e.darkMode,soundsOn:e.soundsOn};var t=document.getElementsByTagName("body");this.optionsSelected.darkMode?t[0].classList.add("darkMode"):t[0].classList.remove("darkMode")}else{document.getElementsByTagName("body")[0].classList.add("darkMode");var s=JSON.stringify(this.optionsSelected);localStorage.setItem("mason_options",s)}if(localStorage.length>0&&localStorage.getItem("mason_data")){var n=JSON.parse(localStorage.getItem("mason_data"));this.playerResources={chiselLvl:n.chiselLvl?n.chiselLvl:0,money:n.money?n.money:0,bricks:n.bricks?n.bricks:0,clicks:n.clicks?n.clicks:0,barterLvl:n.barterLvl?n.barterLvl:0,tradeWorkers:n.tradeWorkers?n.tradeWorkers:[],tradeWorkersCount:n.tradeWorkersCount?n.tradeWorkersCount:0,tradeWorkersLvl:n.tradeWorkersLvl?n.tradeWorkersLvl:0,stoneWorkers:n.stoneWorkers?n.stoneWorkers:[],stoneCuttersCount:n.stoneCuttersCount?n.stoneCuttersCount:0,stoneWorkerLvl:n.stoneWorkerLvl?n.stoneWorkerLvl:0,guards:n.guardGroup?n.guardGroup:[],guardsLvl:n.guardLvl?n.guardLvl:0,dayCounter:n.dayCounter?n.dayCounter:0,daysPast:n.daysPast?n.daysPast:0,version:n.version,totalClicks:n.totalClicks?n.totalClicks:0,totalBricks:n.totalBricks?n.totalBricks:0,totalMoney:n.totalMoney?n.totalMoney:0,newPlayer:void 0===n.newPlayer,quests:void 0===n.quests?this.quests:n.quests,sky:void 0===n.sky?this.sky:n.sky,housingLimit:void 0===n.housingLimit?this.housingLimit:n.housingLimit,housingLvl:void 0===n.housingLvl?this.housingLvl:n.housingLvl,totalWorkers:void 0===n.totalWorkers?this.totalWorkers:n.totalWorkers,stockpile:void 0===n.stockpile?this.stockpile:n.stockpile,stockpileLvl:void 0===n.stockpileLvl?this.stockpileLvl:n.stockpileLvl,screenWidth:void 0===n.screenWidth?this.screenWidth:n.screenWidth,screenChange:void 0===n.screenChange?this.screenChange:n.screenChange},this.getScreenWidth(),this.chiselLvl=n.chiselLvl?n.chiselLvl:0,this.money=n.money?n.money:0,this.bricks=n.bricks?n.bricks:0,this.clicks=n.clicks?n.clicks:0,this.barterLvl=n.barterLvl?n.barterLvl:0,this.tradeWorkerGroup=n.tradeWorkers?n.tradeWorkers:[],this.tradeWorkersCount=n.tradeWorkersCount?n.tradeWorkersCount:0,this.tradeWorkerLvl=n.tradeWorkersLvl?n.tradeWorkersLvl:0,this.stoneWorkerGroup=n.stoneWorkers?n.stoneWorkers:[],this.stoneCuttersCount=n.stoneCuttersCount?n.stoneCuttersCount:0,this.stoneWorkerLvl=n.stoneWorkerLvl?n.stoneWorkerLvl:0,this.guardGroup=n.guardGroup?n.guardGroup:[],this.guardLvl=n.guardLvl?n.guardLvl:0,this.dayCounter=n.dayCounter?n.dayCounter:0,this.daysPast=n.daysPast?n.daysPast:0,this.version=n.version,this.totalClicks=n.totalClicks?n.totalClicks:0,this.totalBricks=n.totalBricks?n.totalBricks:0,this.totalMoney=n.totalMoney?n.totalMoney:0,this.newPlayer=void 0===n.newPlayer,this.quests=void 0===n.quests?this.quests:n.quests,this.sky=void 0===n.sky?this.sky:n.sky,this.housingLimit=void 0===n.housingLimit?this.housingLimit:n.housingLimit,this.housingLvl=void 0===n.housingLvl?this.housingLvl:n.housingLvl,this.totalWorkers=void 0===n.totalWorkers?this.totalWorkers:n.totalWorkers,this.stockpile=void 0===n.stockpile?this.stockpile:n.stockpile,this.stockpileLvl=void 0===n.stockpileLvl?this.stockpileLvl:n.stockpileLvl,this.screenWidth=void 0===n.screenWidth?this.screenWidth:n.screenWidth,this.screenChange=void 0===n.screenChange?this.screenChange:n.screenChange}},l.prototype.chisleStone=function(){this.playerResources.bricks<this.playerResources.stockpile&&(this.optionsSelected.soundsOn&&this.chiselSound.play(),this.isQuestAvailiable=!1,this.clicks+=1,this.totalClicks+=1,this.playerResources={chiselLvl:this.chiselLvl,money:this.money,bricks:this.bricks,clicks:this.clicks,barterLvl:this.barterLvl,tradeWorkers:this.tradeWorkerGroup,tradeWorkersCount:this.tradeWorkersCount,tradeWorkersLvl:this.tradeWorkerLvl,stoneWorkers:this.stoneWorkerGroup,stoneCuttersCount:this.stoneCuttersCount,stoneWorkerLvl:this.stoneWorkerLvl,guards:this.guardGroup,guardsLvl:this.guardLvl,dayCounter:this.dayCounter,daysPast:this.daysPast,version:this.version,totalClicks:this.totalClicks,totalBricks:this.totalBricks,totalMoney:this.totalMoney,newPlayer:this.newPlayer,quests:this.quests,sky:this.sky,housingLimit:this.housingLimit,housingLvl:this.housingLvl,totalWorkers:this.totalWorkers,stockpile:this.stockpile,stockpileLvl:this.stockpileLvl,screenWidth:this.screenWidth,screenChange:this.screenChange})},l.prototype.sellStone=function(){var l=Math.floor(Math.random()*(this.barterLvl+1))+1;if(l>=this.bricks&&(l=this.bricks),this.bricks>0){var e=(Math.floor(Math.random()*(this.barterLvl+3+this.playerResources.tradeWorkersLvl))+(1+this.barterLvl+this.playerResources.tradeWorkersLvl))*l;this.money+=e,this.totalMoney+=e,this.bricks-=l,this.totalClicks+=1,this.optionsSelected.soundsOn&&this.sellSound.play()}else this.bricks<=0&&(this.bricks=0);this.playerResources.totalClicks=this.totalClicks,this.playerResources.totalMoney=this.totalMoney,this.playerResources.money=this.money,this.playerResources.bricks=this.bricks},l.prototype.playerResourcesReturn=function(l){this.playerResources=l,this.clicks=l.clicks,this.money=l.money,this.bricks=l.bricks,this.chiselLvl=l.chiselLvl,this.tradeWorkerLvl=l.tradeWorkersLvl,this.tradeWorkersCount=l.tradeWorkersCount,this.stoneWorkerLvl=l.stoneWorkerLvl,this.stoneCuttersCount=l.stoneCuttersCount,this.barterLvl=l.barterLvl,this.dayCounter=l.dayCounter,this.daysPast=l.daysPast,this.totalBricks=l.totalBricks,this.newPlayer=l.newPlayer,this.sky=l.sky,this.housingLimit=l.housingLimit,this.housingLvl=l.housingLvl,this.totalWorkers=l.totalWorkers,this.stockpile=l.stockpile,this.stockpileLvl=l.stockpileLvl,this.screenWidth=l.screenWidth,this.screenChange=l.screenChange,this.setQuests()},l.prototype.stoneWorkerReturn=function(l){if(l){var e={image:new Image,speed:0,frequency:Math.floor(5*Math.random())+1,workLoad:Math.floor(5*Math.random())+3,x:0,y:0,startPos:0,direction:0,startedWork:!1};this.stoneWorkerGroup.push(e),this.playerResources.stoneWorkers=this.stoneWorkerGroup}},l.prototype.tradeWorkerReturn=function(l){if(l){var e={image:new Image,speed:0,frequency:Math.floor(5*Math.random())+1,x:0,y:0,startPos:0,direction:0,startedWork:!1};this.tradeWorkerGroup.push(e),this.playerResources.tradeWorkers=this.tradeWorkerGroup}},l.prototype.displayUpgrades=function(){this.isUpgradeDisplayed?this.isUpgradeDisplayed=!1:(this.saveGame(),this.isUpgradeDisplayed=!0,this.playerResources.clicks=0,this.clicks=0)},l.prototype.displayStats=function(){this.isStatsDisplayed?this.isStatsDisplayed=!1:(this.saveGame(),this.isStatsDisplayed=!0,this.playerResources.clicks=0,this.clicks=0)},l.prototype.getNewUpdatesFromServer=function(){this.gameUpdateWarning=!1,window.location.reload()},l.prototype.getUpdateLater=function(){this.updateWatch&&(this.updateWatch.unsubscribe(),this.gameUpdateWarning=!1)},l.prototype.saveGame=function(){var l=JSON.stringify(this.playerResources);localStorage.setItem("mason_data",l)},l.prototype.saveGameAndQuit=function(){var l=JSON.stringify(this.playerResources);localStorage.setItem("mason_data",l),history.back()},l.prototype.closeNewPlayerPrompt=function(){this.tutorialStep--,0===this.tutorialStep&&(this.newPlayer=!1,this.tutorialStep=9,this.playerResources.newPlayer=!1,this.tutorialStart=!1,this.tutorialDone(),this.saveGame())},l.prototype.beginTutorial=function(){this.tutorialStep=9},l.prototype.tutorialDone=function(){this.newPlayer=!1,this.tutorialStep=9,this.playerResources.newPlayer=!1,this.tutorialStart=!1,this.isQuestAvailiable=!0,this.newQuestMessage(),this.saveGame()},l.prototype.getScreenWidth=function(){0===this.playerResources.screenWidth&&(this.playerResources.screenWidth=window.innerWidth),this.playerResources.screenWidth===window.innerWidth?this.playerResources.screenChange=!1:this.playerResources.screenWidth!==window.innerWidth&&(this.playerResources.screenChange=!0,this.playerResources.screenWidth=window.innerWidth)},l.prototype.unfocusAllButtons=function(l){l.preventDefault(),l.stopPropagation()},l.prototype.newQuestMessage=function(){var l=this,e=setInterval((function(){l.isQuestAvailiable=!1,e&&clearInterval(e)}),5500)},l.prototype.questCompleted=function(){var l=this;this.quests.completed=!0,this.quests.quest.complete=!0,this.playerResources.money+=this.quests.questReward;var e=setInterval((function(){l.quests.completed=!1,e&&clearInterval(e)}),3500)},l.prototype.setQuests=function(){0!==this.quests.questLvl||this.quests.completed?1!==this.quests.questLvl||this.quests.completed?2!==this.quests.questLvl||this.quests.completed?3!==this.quests.questLvl||this.quests.completed?4!==this.quests.questLvl||this.quests.completed?5!==this.quests.questLvl||this.quests.completed?6!==this.quests.questLvl||this.quests.completed?7!==this.quests.questLvl||this.quests.completed?8!==this.quests.questLvl||this.quests.completed?9!==this.quests.questLvl||this.quests.completed?10!==this.quests.questLvl||this.quests.completed?11!==this.quests.questLvl||this.quests.completed?12!==this.quests.questLvl||this.quests.completed?13!==this.quests.questLvl||this.quests.completed||(this.quests.questDesc="That is all there is for now. Get ready for the next challenge \ud83d\ude47\u200d\u2642\ufe0f",this.quests.quest.complete=!1,this.quests.questReward=1e5):(this.quests.questDesc="Get over $10,000 Total Money",this.quests.quest.complete=!1,this.quests.questReward=2e3,this.playerResources.totalMoney>=1e4&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=2e3,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get over $5000 Total Money",this.quests.quest.complete=!1,this.quests.questReward=1e3,this.playerResources.totalMoney>=5e3&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=1e3,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get over $1000 Total Money",this.quests.quest.complete=!1,this.quests.questReward=200,this.playerResources.totalMoney>=1e3&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=200,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Hire A Total Of 5 Masons",this.quests.quest.masons=5,this.quests.questReward=35,this.quests.quest.complete=!1,this.playerResources.stoneCuttersCount>=this.quests.quest.masons&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=35,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Hire A Total of 3 Traders",this.quests.quest.traders=3,this.quests.questReward=30,this.quests.quest.complete=!1,this.playerResources.tradeWorkersCount>=this.quests.quest.traders&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=30,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get Your Barter Skill Up To Level 5",this.quests.quest.barterLvl=5,this.quests.questReward=35,this.quests.quest.complete=!1,this.playerResources.barterLvl>=this.quests.quest.barterLvl&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=35,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get Your Chisel Skill Up To Level 7",this.quests.quest.chiselLvl=7,this.quests.questReward=25,this.quests.quest.complete=!1,this.playerResources.chiselLvl>=this.quests.quest.chiselLvl&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=25,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Upgrade The Stockpile to Level 1",this.quests.quest.complete=!1,this.quests.questReward=15,this.playerResources.stockpileLvl>=1&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=15,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Upgrade The Housing to Level 1",this.quests.quest.complete=!1,this.quests.questReward=20,this.playerResources.housingLvl>=1&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=20,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Hire A Mason",this.quests.quest.masons=1,this.quests.questReward=10,this.quests.quest.complete=!1,this.playerResources.stoneCuttersCount>=this.quests.quest.masons&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=10,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Hire A Trader",this.quests.quest.traders=1,this.quests.questReward=10,this.quests.quest.complete=!1,this.playerResources.tradeWorkersCount>=this.quests.quest.traders&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=10,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get Your Barter Skill Up To Level 3",this.quests.quest.barterLvl=3,this.quests.questReward=20,this.quests.quest.complete=!1,this.playerResources.barterLvl>=this.quests.quest.barterLvl&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=20,this.quests.questLvl++,this.questCompleted())):(this.quests.questDesc="Get Your Chisel Skill Up To Level 3",this.quests.quest.chiselLvl=3,this.quests.questReward=10,this.playerResources.chiselLvl>=this.quests.quest.chiselLvl&&!this.quests.quest.complete&&(this.playerResources.totalMoney+=10,this.quests.questLvl++,this.questCompleted())),this.playerResources.quests=this.quests},l}(),N=t("3pDu"),B=s.qb({encapsulation:0,styles:[[".brick-icon[_ngcontent-%COMP%]{width:calc(1em - 7%)}.brick-count[_ngcontent-%COMP%]{position:absolute;left:calc(93% - 6rem);color:#fff;font-size:calc(2em - 50%)}.money-count[_ngcontent-%COMP%]{position:absolute;left:13%;color:#fff;font-size:calc(2em - 50%)}.close-upgrades[_ngcontent-%COMP%]{display:inline-block;margin-left:calc(100% - 15em);margin-bottom:calc(1% + .4em)}.chapter-text[_ngcontent-%COMP%]{display:inline;font-weight:700}.close-stats[_ngcontent-%COMP%]{display:inline-block;margin-left:calc(100% - 8em);margin-bottom:calc(1% + .4em)}.logo-container[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:calc(1% + .5em);color:#fff}.save-text[_ngcontent-%COMP%]{position:absolute;top:14%;left:112%}.info-wrapper[_ngcontent-%COMP%]{height:calc(46% + .1em);top:calc(21% - .1em)}.options-title-contents[_ngcontent-%COMP%], .stats-title-contents[_ngcontent-%COMP%]{border-bottom:1px solid #000}.title-dm[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.info-dm[_ngcontent-%COMP%]{background-color:#606060}.quest-completed[_ngcontent-%COMP%]{position:absolute;top:calc(16% + 1.4em);right:calc(2em + 2.4%);text-align:center;width:90%;background-color:#673ab7;border-radius:5px;z-index:10;padding-top:.5em;padding-bottom:.5em}.noSelect[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]],data:{}});function U(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","quest-completed"]],[[4,"width","px"],[4,"right","px"]],null,null,null,null)),(l()(),s.Kb(-1,null,["Quest Completed!"]))],null,(function(l,e){var t=e.component;l(e,0,0,.9*t.playerResources.screenWidth,.9*t.playerResources.screenWidth/18)}))}function j(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,13,"span",[["class","upgrade-space"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,10,"div",[["class","options-title-contents"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"title-dm":0}),(l()(),s.sb(5,0,null,null,1,"span",[["class","chapter-text"]],null,null,null,null,null)),(l()(),s.Kb(6,null,["",""])),(l()(),s.hb(16777216,null,null,1,null,U)),s.rb(8,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(9,0,null,null,2,"button",[["class","close-upgrades"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.displayUpgrades()&&s),s}),u.b,u.a)),s.rb(10,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Close"])),(l()(),s.sb(12,0,null,null,1,"app-upgrade-menu",[],null,[[null,"stoneWorkerReturn"],[null,"tradeWorkerReturn"],[null,"playerResourcesReturn"]],(function(l,e,t){var s=!0,n=l.component;return"stoneWorkerReturn"===e&&(s=!1!==n.stoneWorkerReturn(t)&&s),"tradeWorkerReturn"===e&&(s=!1!==n.tradeWorkerReturn(t)&&s),"playerResourcesReturn"===e&&(s=!1!==n.playerResourcesReturn(t)&&s),s}),w,b)),s.rb(13,114688,null,0,m,[],{playerResources:[0,"playerResources"]},{stoneWorkerReturn:"stoneWorkerReturn",tradeWorkerReturn:"tradeWorkerReturn",playerResourcesReturn:"playerResourcesReturn"})],(function(l,e){var t=e.component,s=l(e,4,0,!0===t.optionsSelected.darkMode);l(e,3,0,"options-title-contents",s),l(e,8,0,t.quests.completed),l(e,10,0,"primary"),l(e,13,0,t.playerResources)}),(function(l,e){l(e,6,0,e.component.currentChapter),l(e,9,0,s.Eb(e,10).disabled||null,"NoopAnimations"===s.Eb(e,10)._animationMode)}))}function $(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","quest-completed"]],[[4,"width","px"],[4,"right","px"]],null,null,null,null)),(l()(),s.Kb(-1,null,["Quest Completed!"]))],null,(function(l,e){var t=e.component;l(e,0,0,.9*t.playerResources.screenWidth,.9*t.playerResources.screenWidth/18)}))}function z(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","quest-completed"]],[[4,"width","px"],[4,"right","px"]],null,null,null,null)),(l()(),s.Kb(-1,null,["New Quest Availiable! Select The Stats Button \ud83d\udc4c"]))],null,(function(l,e){var t=e.component;l(e,0,0,.9*t.playerResources.screenWidth,.9*t.playerResources.screenWidth/18)}))}function F(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,27,"span",[["class","game-space"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,2,"p",[["class","brick-count"]],null,null,null,null,null)),(l()(),s.Kb(2,null,["","/"," "])),(l()(),s.sb(3,0,null,null,0,"img",[["alt","bricks"],["class","brick-icon"]],[[8,"src",4]],null,null,null,null)),(l()(),s.sb(4,0,null,null,4,"p",[["class","money-count"]],null,null,null,null,null)),s.Hb(512,null,r.x,r.y,[s.k,s.s,s.D]),s.rb(6,278528,null,0,r.n,[r.x],{ngStyle:[0,"ngStyle"]},null),s.Gb(7,{color:0}),(l()(),s.Kb(8,null,["$",""])),(l()(),s.hb(16777216,null,null,1,null,$)),s.rb(10,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,z)),s.rb(12,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(13,0,null,null,1,"app-stone-cutter-view",[],null,[[null,"playerResourcesReturn"]],(function(l,e,t){var s=!0;return"playerResourcesReturn"===e&&(s=!1!==l.component.playerResourcesReturn(t)&&s),s}),S,M)),s.rb(14,245760,null,0,q,[s.y],{playerResources:[0,"playerResources"]},{playerResourcesReturn:"playerResourcesReturn"}),(l()(),s.sb(15,0,null,null,12,"div",[["class","controls-wrapper"]],null,null,null,null,null)),(l()(),s.sb(16,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"keydown"],[null,"click"]],(function(l,e,t){var s=!0,n=l.component;return"keydown"===e&&(s=!1!==n.unfocusAllButtons(t)&&s),"click"===e&&(s=!1!==n.chisleStone()&&s),s}),u.b,u.a)),s.rb(17,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Chisel"])),(l()(),s.sb(19,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"keydown"],[null,"click"]],(function(l,e,t){var s=!0,n=l.component;return"keydown"===e&&(s=!1!==n.unfocusAllButtons(t)&&s),"click"===e&&(s=!1!==n.sellStone()&&s),s}),u.b,u.a)),s.rb(20,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Sell"])),(l()(),s.sb(22,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"keydown"],[null,"click"]],(function(l,e,t){var s=!0,n=l.component;return"keydown"===e&&(s=!1!==n.unfocusAllButtons(t)&&s),"click"===e&&(s=!1!==n.displayUpgrades()&&s),s}),u.b,u.a)),s.rb(23,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Upgrade"])),(l()(),s.sb(25,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"keydown"],[null,"click"]],(function(l,e,t){var s=!0,n=l.component;return"keydown"===e&&(s=!1!==n.unfocusAllButtons(t)&&s),"click"===e&&(s=!1!==n.displayStats()&&s),s}),u.b,u.a)),s.rb(26,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Stats"]))],(function(l,e){var t=e.component,s=l(e,7,0,t.money<0?"red":"white");l(e,6,0,s),l(e,10,0,t.quests.completed),l(e,12,0,t.isQuestAvailiable),l(e,14,0,t.playerResources),l(e,17,0,"primary"),l(e,20,0,"primary"),l(e,23,0,"primary"),l(e,26,0,"primary")}),(function(l,e){var t=e.component;l(e,2,0,t.bricks,t.stockpile),l(e,3,0,s.wb(1,"",t.stoneIconPath,"")),l(e,8,0,t.money),l(e,16,0,s.Eb(e,17).disabled||null,"NoopAnimations"===s.Eb(e,17)._animationMode),l(e,19,0,s.Eb(e,20).disabled||null,"NoopAnimations"===s.Eb(e,20)._animationMode),l(e,22,0,s.Eb(e,23).disabled||null,"NoopAnimations"===s.Eb(e,23)._animationMode),l(e,25,0,s.Eb(e,26).disabled||null,"NoopAnimations"===s.Eb(e,26)._animationMode)}))}function Q(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,11,"span",[["class","stat-space"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,8,"div",[["class","stats-title-contents"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"title-dm":0}),(l()(),s.sb(5,0,null,null,1,"span",[["class","chapter-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Stats"])),(l()(),s.sb(7,0,null,null,2,"button",[["class","close-stats"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.displayStats()&&s),s}),u.b,u.a)),s.rb(8,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Close"])),(l()(),s.sb(10,0,null,null,1,"app-stats-view",[],null,null,null,O,P)),s.rb(11,114688,null,0,I,[],{playerResources:[0,"playerResources"]},null)],(function(l,e){var t=e.component,s=l(e,4,0,!0===t.optionsSelected.darkMode);l(e,3,0,"stats-title-contents",s),l(e,8,0,"primary"),l(e,11,0,t.playerResources)}),(function(l,e){l(e,7,0,s.Eb(e,8).disabled||null,"NoopAnimations"===s.Eb(e,8)._animationMode)}))}function J(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,21,"div",[["class","modal"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,20,"div",[["class","info-wrapper"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"info-dm":0}),(l()(),s.sb(5,0,null,null,5,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,h.b,h.a)),s.rb(6,4243456,null,1,p.a,[s.k,d.a,r.d],{color:[0,"color"]},null),s.Ib(603979776,1,{_toolbarRows:1}),(l()(),s.sb(8,0,null,0,2,"div",[["id","menu-width"]],null,null,null,null,null)),(l()(),s.sb(9,0,null,null,1,"p",[["class","info-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["New Stuff!"])),(l()(),s.sb(11,0,null,null,10,"span",[],null,null,null,null,null)),(l()(),s.sb(12,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["There is some new content here! Would you like to update now? It will only take a second \ud83d\udc4d"])),(l()(),s.sb(14,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["If you're in the middle of a game, no worries, you can update later if you want. Exit the game and restart the app and then you'll be up to date."])),(l()(),s.sb(16,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.getNewUpdatesFromServer()&&s),s}),u.b,u.a)),s.rb(17,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["It's Ok To Update Now"])),(l()(),s.sb(19,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.getUpdateLater()&&s),s}),u.b,u.a)),s.rb(20,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["I Need A Minute Here.."]))],(function(l,e){var t=l(e,4,0,!0===e.component.optionsSelected.darkMode);l(e,3,0,"info-wrapper",t),l(e,6,0,"primary"),l(e,17,0,"primary"),l(e,20,0,"primary")}),(function(l,e){l(e,5,0,s.Eb(e,6)._toolbarRows.length>0,0===s.Eb(e,6)._toolbarRows.length),l(e,16,0,s.Eb(e,17).disabled||null,"NoopAnimations"===s.Eb(e,17)._animationMode),l(e,19,0,s.Eb(e,20).disabled||null,"NoopAnimations"===s.Eb(e,20)._animationMode)}))}function V(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Tap Anywhere To Continue"]))],null,null)}function Y(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Welcome!"]))],null,null)}function X(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,12,"span",[],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Welcome To Mason!"])),(l()(),s.sb(3,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["The game where you make bricks and attempt to rule the world!"])),(l()(),s.sb(5,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["You appear to be new, would you like to learn how to play?"])),(l()(),s.sb(7,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.beginTutorial()&&s),s}),u.b,u.a)),s.rb(8,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["Yes Please!"])),(l()(),s.sb(10,0,null,null,2,"button",[["class","control-button"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.tutorialDone()&&s),s}),u.b,u.a)),s.rb(11,180224,null,0,a.b,[s.k,i.g,[2,c.a]],{color:[0,"color"]},null),(l()(),s.Kb(-1,0,["I know what I'm doing."]))],(function(l,e){l(e,8,0,"primary"),l(e,11,0,"primary")}),(function(l,e){l(e,7,0,s.Eb(e,8).disabled||null,"NoopAnimations"===s.Eb(e,8)._animationMode),l(e,10,0,s.Eb(e,11).disabled||null,"NoopAnimations"===s.Eb(e,11)._animationMode)}))}function Z(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["First off I want to say thank you for playing! If you're here, then I know you're going to like this \ud83d\udc4d"]))],null,null)}function ll(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["The first thing you want to do is to Chisel rocks into bricks. This will be your source of income. Select the 'Chisel' button to start to shape your bicks."]))],null,null)}function el(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["When you have one or more bricks, you can sell them. Click the 'Sell' button to exchange your bricks for money."]))],null,null)}function tl(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["When you have some money on hand, you can upgrade your tools or hire some workers to help you make and sell bricks. To see the upgrades availiable, Select the 'Upgrade' button."]))],null,null)}function sl(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Keep in mind, workers will want to be paid based on their levels. A worker's pay check begins at $2 a day and will increase $2 per each level."]))],null,null)}function nl(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["The bartering skill is useful to sell more bricks at a time for more money. Traders you hire will get better at bartering as you do."]))],null,null)}function ol(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Complete quests for bonus cash. You can check your current quest by clicking the 'Stats' button."]))],null,null)}function rl(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","info-text info-text-area"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["That should get you started. As your riches grow, so will the challenges that lie ahead. Good luck!"]))],null,null)}function ul(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,30,"div",[["class","modal"]],null,[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.closeNewPlayerPrompt()&&s),s}),null,null)),(l()(),s.sb(1,0,null,null,29,"div",[["class","info-wrapper"]],null,null,null,null,null)),s.Hb(512,null,r.v,r.w,[s.r,s.s,s.k,s.D]),s.rb(3,278528,null,0,r.i,[r.v],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Gb(4,{"info-dm":0}),(l()(),s.sb(5,0,null,null,7,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,h.b,h.a)),s.rb(6,4243456,null,1,p.a,[s.k,d.a,r.d],{color:[0,"color"]},null),s.Ib(603979776,2,{_toolbarRows:1}),(l()(),s.sb(8,0,null,0,4,"div",[["id","menu-width"]],null,null,null,null,null)),(l()(),s.hb(16777216,null,null,1,null,V)),s.rb(10,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,Y)),s.rb(12,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,X)),s.rb(14,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,Z)),s.rb(16,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,ll)),s.rb(18,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,el)),s.rb(20,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,tl)),s.rb(22,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,sl)),s.rb(24,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,nl)),s.rb(26,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,ol)),s.rb(28,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,rl)),s.rb(30,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null)],(function(l,e){var t=e.component,s=l(e,4,0,!0===t.optionsSelected.darkMode);l(e,3,0,"info-wrapper",s),l(e,6,0,"primary"),l(e,10,0,t.tutorialStep<9),l(e,12,0,9===t.tutorialStep),l(e,14,0,9===t.tutorialStep),l(e,16,0,8===t.tutorialStep),l(e,18,0,7===t.tutorialStep),l(e,20,0,6===t.tutorialStep),l(e,22,0,5===t.tutorialStep),l(e,24,0,4===t.tutorialStep),l(e,26,0,3===t.tutorialStep),l(e,28,0,2===t.tutorialStep),l(e,30,0,1===t.tutorialStep)}),(function(l,e){l(e,5,0,s.Eb(e,6)._toolbarRows.length>0,0===s.Eb(e,6)._toolbarRows.length)}))}function al(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,18,"div",[["class","game-content"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,6,"span",[["class","logo-container"]],null,null,null,null,null)),(l()(),s.sb(2,0,null,null,5,"span",[["class","noSelect"]],null,[[null,"click"]],(function(l,e,t){var s=!0;return"click"===e&&(s=!1!==l.component.saveGameAndQuit()&&s),s}),null,null)),(l()(),s.sb(3,0,null,null,2,"mat-icon",[["class","logo mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,H,D)),s.rb(4,9158656,null,0,_.b,[s.k,_.d,[8,null],[2,_.a],[2,s.l]],null,null),(l()(),s.Kb(-1,0,["exit_to_app"])),(l()(),s.sb(6,0,null,null,1,"span",[["class","save-text"]],null,null,null,null,null)),(l()(),s.Kb(-1,null,["Exit"])),(l()(),s.sb(8,0,null,null,10,"div",[["class","game-wrapper"]],null,null,null,null,null)),(l()(),s.hb(16777216,null,null,1,null,j)),s.rb(10,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,F)),s.rb(12,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,Q)),s.rb(14,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,J)),s.rb(16,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(l()(),s.hb(16777216,null,null,1,null,ul)),s.rb(18,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null)],(function(l,e){var t=e.component;l(e,4,0),l(e,10,0,t.isUpgradeDisplayed),l(e,12,0,!t.isUpgradeDisplayed&&!t.isStatsDisplayed),l(e,14,0,t.isStatsDisplayed),l(e,16,0,t.gameUpdateWarning),l(e,18,0,t.newPlayer&&!t.tutorialStart&&t.tutorialStep>0)}),(function(l,e){l(e,3,0,s.Eb(e,4).inline,"primary"!==s.Eb(e,4).color&&"accent"!==s.Eb(e,4).color&&"warn"!==s.Eb(e,4).color)}))}var il=s.ob("app-mason-game",G,(function(l){return s.Mb(0,[(l()(),s.sb(0,0,null,null,1,"app-mason-game",[],null,null,null,al,B)),s.rb(1,114688,null,0,G,[N.d],null,null)],(function(l,e){l(e,1,0)}),null)}),{},{},[]),cl=t("iInd"),hl=function(){};t.d(e,"MasonGameModuleNgFactory",(function(){return pl}));var pl=s.pb(n,[],(function(l){return s.Bb([s.Cb(512,s.j,s.ab,[[8,[o.a,il]],[3,s.j],s.w]),s.Cb(4608,r.m,r.l,[s.t,[2,r.A]]),s.Cb(1073742336,cl.m,cl.m,[[2,cl.r],[2,cl.k]]),s.Cb(1073742336,hl,hl,[]),s.Cb(1073742336,r.c,r.c,[]),s.Cb(1073742336,K.a,K.a,[]),s.Cb(1073742336,E.l,E.l,[[2,E.f],[2,A.f]]),s.Cb(1073742336,d.b,d.b,[]),s.Cb(1073742336,E.r,E.r,[]),s.Cb(1073742336,a.c,a.c,[]),s.Cb(1073742336,p.b,p.b,[]),s.Cb(1073742336,_.c,_.c,[]),s.Cb(1073742336,n,n,[]),s.Cb(1024,cl.i,(function(){return[[{path:"",component:G}]]}),[])])}))}}]);